package com.eventuror.brainspew;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.CommandLineRunner;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.context.annotation.Bean;

import com.eventuror.brainspew.dao.ThoughtRepository;
import com.eventuror.brainspew.entities.Thought;
import com.eventuror.brainspew.entities.ThoughtParent;
import com.eventuror.brainspew.relationships.ThoughtParentId;

@SpringBootApplication
public class BrainspewApplication {
	
	@Autowired
	ThoughtRepository thoughtRepo;

	public static void main(String[] args) {
		SpringApplication.run(BrainspewApplication.class, args);
	}
	
	@Bean
	CommandLineRunner runner() {
		
		return args -> {
			
			Thought thought1 = new Thought("Alternate Seinfeld endings");
			Thought thought2 = new Thought("Ferris Bueller Gets a Day Off");
			Thought thought3 = new Thought("George gets hit by a bus");
			ThoughtParent tp1 = new ThoughtParent(1, 1, new ThoughtParentId(1, 1));
			ThoughtParent tp2 = new ThoughtParent(2, 2, 0);
			ThoughtParent tp3 = new ThoughtParent(3, 3, 0);
			ThoughtParent tp4 = new ThoughtParent(1, 3, 1);

			thoughtRepo.save(thought1);
			thoughtRepo.save(thought2);
			
		};
		
	}

}